<VirtualHost *:80>
  ServerAdmin me@mydomain.com
  DocumentRoot /var/www/dist

  <Directory /var/www/dist/>
      Options Indexes FollowSymLinks MultiViews
      AllowOverride All
      Order deny,allow
      Allow from all
  </Directory>

  Header set Access-Control-Allow-Origin "*"

  RewriteEngine on
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d

  # not rewrite css, js and images
  RewriteCond %{REQUEST_URI} !\.(?:css|js|map|jpe?g|gif|png)$ [NC]
  RewriteRule ^(.*)$ /index.html?path=$1 [NC,L,QSA]
  
  ErrorLog ${APACHE_LOG_DIR}/error.log
  CustomLog ${APACHE_LOG_DIR}/access.log combined

</VirtualHost>